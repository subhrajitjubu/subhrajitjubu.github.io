<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Image Display</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #bee3f8, #2d3748); /* Initial gradient */
            color: #2d3748;
            padding-bottom: 60px;
            transition: background 1s ease; /* Smooth transition for gradient changes */
        }
        header {
            background: linear-gradient(135deg, #3182ce, #2b6cb0);
            color: #fff;
            padding: 0.01rem;
            text-align: center;
        }
        nav {
            background: #4a5568;
            padding: 1rem 0;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 10;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        nav a {
            color: #63b3ed;
            margin: 0 1.2rem;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        nav a:hover {
            color: #fff;
        }
        .dropdown {
            display: inline-flex;
            position: relative;
        }

        .dropbtn {
            padding: 14px 16px;
            color: #63b3ed;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            top: 100%;
            background-color: #fff;
            min-width: 160px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
            border-radius: 8px;
            z-index: 1;
        }

        .dropdown-content a {
            color: #1461e6;
            padding: 10px 16px;
            text-decoration: none;
            display: block;
            transition: background-color 0.3s ease;
        }

        .dropdown-content a:hover {
            background-color: #c2192765;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown:hover .dropbtn {
            color: #fff;
        }

        .container {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            max-width: 1200px;
            margin: 2rem auto;
            gap: 20px;
        }
        .menu {
            width: 25%;
            background-color: #fff;
            padding: 1rem;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 80px;
        }
        .menu label {
            font-weight: 500;
            margin-bottom: 5px;
            display: block;
        }
        .menu select {
            width: 100%;
            padding: 10px;
            font-size: 1rem;
            border: 1px solid #cbd5e0;
            border-radius: 5px;
            background-color: #fff;
            color: #2d3748;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }
        .menu select:focus {
            outline: none;
            border-color: #4299e1;
        }
        #tabContainer {
            margin-top: 15px;
        }
        .tab-button {
            padding: 8px 16px;
            font-size: 0.9rem;
            cursor: pointer;
            background-color: #e2e8f0;
            border: none;
            border-radius: 5px;
            margin: 5px;
            display: inline-block;
            transition: all 0.3s ease;
        }
        .tab-button:hover {
            background-color: #4299e1;
            color: #fff;
        }
        .tab-button.active {
            background-color: #2b6cb0;
            color: #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        .image-container {
            width: 70%;
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            text-align: center;
            position: relative;
        }
        .image-container img {
            width: 100%;
            max-width: 600px;
            height: auto;
            border-radius: 8px;
            transition: transform 0.3s ease;
        }
        .image-container img:hover {
            transform: scale(1.02);
        }
        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.2rem;
            color: #4299e1;
            display: none;
        }
        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            background-color: #2d3748;
            padding: 1rem 0;
            color: #a0aec0;
        }
        footer p {
            font-size: 0.9rem;
            margin: 0;
        }
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                margin: 1rem;
            }
            .menu, .image-container {
                width: 100%;
            }
            .menu {
                position: static;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1 style="font-size: 20px;">NWP Images</h1>
    </header>
    <nav>
        <a href="index.html">Home</a>
        <a href="education.html">Education</a>
        <a href="experience.html">Skills</a>
        <a href="publications.html">Publications</a>
        <a href="contact.html">Contact</a>
        <a href="nwp_imd.html">NWP_IMD</a>
        <div class="dropdown">
            <a href="#" class="dropbtn">Weather forecast</a>
            <div class="dropdown-content">
                <a href="sw.html">Weather Card</a>
                <a href="src/weatherchart.html">Weather Chart</a>
                <a href="srcc/geomap_multiple.html">Weather GeoHEATMap</a>    
                <a href="AQI.html">AQI HEATMap</a>    
                <a href="Weather_web.html">Weather websites</a>    
                <a href="meteogram.html">Meteogram_ others</a>    


            </div>
        </div>
        <div class="dropdown">
            <a href="#" class="dropbtn">Satellite view</a>
            <div class="dropdown-content">
                <a href="../mosdac_live.html">Mosdac/ISRO</a>
                <a href="../gibs.html">GIBS/NASA</a>
                   

            </div>
        </div>
        <div class="dropdown">
            <a href="#" class="dropbtn">Climatic info.</a>
            <div class="dropdown-content">
                <a href="climate\monavg/chloro.html">Monthly statistic</a>
                <a href="climate/Dailyavg/chloro.html">Daily average</a>    
            </div>
        </div>
        <div class="dropdown">
            <a href="#" class="dropbtn">Jobs</a>
            <div class="dropdown-content">
                <a href="Jobs.html" target="_blank">MET Jobs</a>
                <a href="https://www.21centuryweather.org.au/about-us/positions-vacant/" target="_blank">21st cent AUS MET Jobs</a>
                <a href="https://www.tropmet.res.in/Careers" target="_blank">IITM Career</a>
                <a href="https://vacancies.incois.gov.in/" target="_blank">INCOIS Career</a>
                <a href="https://www.niot.res.in/recruitment_details.php/" target="_blank">NIOT Career</a>
                <a href="j1.html" target="_blank">Others</a>

            </div>
        </div>
        <a href="movies.html">Movies</a>
        <a href="series.html">Series</a>
    </nav>
    <div class="container">
        <div class="menu">
            <label for="dataType">Variable:</label>
            <select id="dataType" onchange="updateDataType()">
                <option value="rf_3hrly" selected>3hrs Accumulated Precipitation</option>
                <option value="rf_6hrly">6hrs Accumulated Precipitation</option>
                <option value="temp">2m Temp</option>
                <option value="Wind850">Wind 850hPa</option>
                <option value="Wind850c">Wind 850hPa Convergence</option>
                <option value="Wind500">Wind 500hPa</option>
                <option value="Wind500d">Wind 500hPa Divergence</option>
                <option value="Wind850rain">Wind 850 + Rain</option>
            </select>
            <div id="tabContainer"></div>
        </div>
        <div class="image-container">
            <div class="loading" id="loading">Loading...</div>
            <img id="imageDisplay" src="https://nwp.imd.gov.in/wrf/WRF3km-03-RAIN_india_03.png" alt="3hrs Accumulated Precipitation">
        </div>
    </div>
    <footer>
        <p>Â© 2024 All products shown here are property of NCMRWF / IMD</p>
    </footer>

    <script>
        let currentDataType = 'rf_3hrly';
        let currentInterval = 3;

        // Gradient combinations
        const gradients = [
            { start: '#bee3f8', end: '#2d3748' }, // Blue to dark gray
            { start: '#a3bffa', end: '#1a5276' }, // Purple-blue to teal
            { start: '#81e6d9', end: '#2c7a7b' }, // Teal to dark teal
            { start: '#fed7e2', end: '#9f7aea' }, // Pink to purple
            { start: '#fefcbf', end: '#ed8936' }  // Yellow to orange
        ];
        let gradientIndex = 0;

        // Function to change gradient
        function changeGradient() {
            const { start, end } = gradients[gradientIndex];
            document.body.style.background = `linear-gradient(135deg, ${start}, ${end})`;
            gradientIndex = (gradientIndex + 1) % gradients.length; // Cycle through gradients
        }

        // Change gradient every 5 seconds
        setInterval(changeGradient, 300000);

        function getCurrentDate() {
            const date = new Date();
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        function updateDataType() {
            const dropdown = document.getElementById('dataType');
            currentDataType = dropdown.value;
            updateTabs();
            showTab(currentInterval, null);
            changeGradient(); // Change gradient on data type change
        }

        function updateTabs() {
            const tabContainer = document.getElementById('tabContainer');
            tabContainer.innerHTML = '';
            let { start, end, step } = getIntervals();
            for (let i = start; i <= end; i += step) {
                const tabButton = document.createElement('div');
                tabButton.classList.add('tab-button');
                tabButton.innerText = `${i}h`;
                tabButton.setAttribute('onclick', `showTab(${i}, event)`);
                tabContainer.appendChild(tabButton);
            }
        }

        function getIntervals() {
            if (currentDataType === 'rf_3hrly' || currentDataType === 'Wind850' || currentDataType === 'Wind500') {
                currentInterval = 3;
                return { start: 3, end: 54, step: 3 };
            } else if (currentDataType === 'rf_6hrly' || currentDataType === 'Wind850c' || currentDataType === 'Wind500d') {
                currentInterval = 6;
                return { start: 6, end: 108, step: 6 };
            } else if (currentDataType === 'Wind850rain') {
                currentInterval = 24;
                return { start: 24, end: 240, step: 24 };
            } else {
                currentInterval = 6;
                return { start: 6, end: 108, step: 6 };
            }
        }

        function showTab(hours, event) {
            const imageDisplay = document.getElementById('imageDisplay');
            const loading = document.getElementById('loading');
            const currentDate = getCurrentDate();

            loading.style.display = 'block';
            imageDisplay.onload = () => loading.style.display = 'none';
            imageDisplay.onerror = () => {
                loading.style.display = 'none';
                imageDisplay.src = 'https://via.placeholder.com/600x400?text=Image+Not+Available';
                imageDisplay.alt = 'Image not available';
            };

            if (currentDataType === 'rf_3hrly') {
                const nhr = String(hours).padStart(2, '0');
                imageDisplay.src = `https://nwp.imd.gov.in/wrf/WRF3km-03-RAIN_india_${nhr}.png`;
            } else if (currentDataType === 'rf_6hrly') {
                imageDisplay.src = `https://www.ncmrwf.gov.in/HomePage/Data/mihir/${currentDate}/00/6-hrs%20Accumulated%20Precipitation/pf${hours}_rain06.png`;
            } else if (currentDataType === 'temp') {
                imageDisplay.src = `https://www.ncmrwf.gov.in/HomePage/Data/mihir/${currentDate}/00/Temperature%20at%202m/pf${hours}_2mtemp.png`;
            } else if (currentDataType === 'Wind850') {
                const nhr = String(hours).padStart(2, '0');
                imageDisplay.src = `https://nwp.imd.gov.in/wrf/WRF3km-ZWd850_india_${nhr}.png`;
            } else if (currentDataType === 'Wind500') {
                const nhr = String(hours).padStart(2, '0');
                imageDisplay.src = `https://nwp.imd.gov.in/wrf/WRF3km-ZWd500_india_${nhr}.png`;
            } else if (currentDataType === 'Wind850c') {
                const nhr = String(hours).padStart(2, '0');
                imageDisplay.src = `https://www.ncmrwf.gov.in/HomePage/Data/mihir/${currentDate}/00/Lower%20Level%20Convergenc/850/pf${hours}_850conv.png`;
            } else if (currentDataType === 'Wind500d') {
                const nhr = String(hours).padStart(2, '0');
                imageDisplay.src = `https://www.ncmrwf.gov.in/HomePage/Data/mihir/${currentDate}/00/Upper%20Level%20Divergence%20/500/pf${hours}_500div.png`;
            } else if (currentDataType === 'Wind850rain') {
                const nhr = String(hours).padStart(2, '0');
                imageDisplay.src = `https://nwp.imd.gov.in/gfs/00/${hours}hGFS1534w850rf.gif`;
            }

            if (event) {
                const buttons = document.getElementsByClassName('tab-button');
                for (let i = 0; i < buttons.length; i++) {
                    buttons[i].classList.remove('active');
                }
                event.target.classList.add('active');
                changeGradient(); // Change gradient on tab click
            }
        }

        window.onload = function() {
            updateTabs();
            showTab(currentInterval, null);
            changeGradient(); // Initial gradient change
        };
    </script>
</body>
</html>